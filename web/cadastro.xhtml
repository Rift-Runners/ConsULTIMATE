<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:pr="http://primefaces.org/ui">
    <h:head>
        <meta charset="utf-8"/>
        <title>Cadastro</title>
        <link href="resources/css/style.css" rel="stylesheet"/>
        <link href="resources/css/bootstrap.css" rel="stylesheet"/>
    </h:head>
    <h:body>
        <ui:include src="templates/header.xhtml"/>
        <div class="cadastrese-background">
            <div class="container-fluid">
                <div class="row row-eq-height">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <div class="text-center div-tipo-cadastro" >
                            <h:outputLabel class="font-tracktype" value="Tipo de cadastro"/>
                            <div>
                                <button type="button" class="btn btn-primary perfil-cliente botao-tipo-cadastro">Cliente</button>
                                <button type="button" class="btn btn-primary perfil-consultor botao-tipo-cadastro">Consultor</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
            <h:form id="formulario-cliente" class="escondido" prependId="false">
                <div class="container-fluid">
                    <div class="row row-eq-height">
                        <div class="col-md-2"></div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <h:outputLabel for="clienteNome" value="Nome (Pessoa Física):"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50" 
                                             class="form-control" id="clienteNome" 
                                             value="#{mainController.cliente.nome}" p:placeholder="Nome"/>
                                <h:message for="clienteNome" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="clienteUf" value="UF:"/>
                                <h:selectOneMenu required="true" requiredMessage="Campo obrigatório" 
                                                 class="form-control" id="clienteUf" 
                                                 value="#{mainController.cliente.uf}">
                                    <f:selectItem itemValue="" itemLabel="Selecione um estado"/>  
                                    <f:selectItems value="#{mainController.listaEstados()}" var="estado"
                                                   itemLabel="#{estado}" itemValue="#{estado}" />
                                </h:selectOneMenu>
                                <h:message for="clienteUf" class="error-message"/>                      
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="clienteCidade" value="Cidade:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50"
                                             class="form-control" id="clienteCidade" 
                                             value="#{mainController.cliente.cidade}" p:placeholder="Cidade"/>
                                <h:message for="clienteCidade" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="clienteEndereco" value="Endereço:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="70"
                                             class="form-control" id="clienteEndereco"
                                             value="#{mainController.cliente.endereco}" p:placeholder="Endereço"/>
                                <h:message for="clienteEndereco" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="clienteTelefone" value="Telefone:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório"
                                             class="form-control telefoneMask" id="clienteTelefone"
                                             value="#{mainController.cliente.telefone}" p:placeholder="Telefone"/>
                                <h:message for="clienteTelefone" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="clienteEmail" value="Email:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50"
                                             class="form-control clienteEmail" id="clienteEmail"
                                             value="#{mainController.cliente.email}" p:placeholder="Email"/>
                                <h:message for="clienteEmail" class="error-message"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <h:outputLabel for="clienteCpf" value="CPF:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório"
                                             class="form-control cpfMask" id="clienteCpf"
                                             value="#{mainController.cliente.cpf}" p:placeholder="CPF"/>
                                <h:message for="clienteCpf" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="clienteRg" value="RG:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório"
                                             class="form-control rgMask" id="clienteRg"
                                             value="#{mainController.cliente.rg}" p:placeholder="RG"/>
                                <h:message for="clienteRg" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="clienteUsuario" value="Usuário:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="20"
                                             class="form-control usuarioMask" id="clienteUsuario"
                                             value="#{mainController.cliente.usuario}" p:placeholder="Usuário"/>
                                <h:message for="clienteUsuario" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="clienteSenha" value="Senha:"/>
                                <h:inputSecret required="true" requiredMessage="Campo obrigatório" maxlength="20"
                                               class="form-control" id="clienteSenha"
                                               value="#{mainController.cliente.senha}"/>
                                <h:message for="clienteSenha" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="clienteRepeteSenha" value="Repita a senha:"/>
                                <h:inputSecret required="true" requiredMessage="Campo obrigatório" maxlength="20"
                                               class="form-control" id="clienteRepeteSenha" 
                                               value="#{mainController.tempSenhaRepete}"/>
                                <h:message for="clienteRepeteSenha" class="error-message"/>
                            </div>
                            <pr:commandButton update="formulario-cliente" class="btn btn-primary botao-cadastrar" action="#{mainController.registrarCliente()}" value="Cadastrar!"/>             
                        </div>
                        <div class="col-md-2"></div>
                    </div>
                </div>
            </h:form>

            <h:form id="formulario-consultor" class="escondido" prependId="false">
                <div class="container-fluid">
                    <div class="row row-eq-height">
                        <div class="col-md-1"></div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <h:outputLabel for="consultorNome" value="Nome (Pessoa Jurídica):"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50" 
                                             class="form-control" id="consultorNome"
                                             value="#{mainController.consultor.nome}" p:placeholder="Nome"/>
                                <h:message for="consultorNome" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorUf" value="UF:"/>
                                <h:selectOneMenu required="true" requiredMessage="Campo obrigatório"
                                                 class="form-control" id="consultorUf"
                                                 value="#{mainController.consultor.uf}">
                                    <f:selectItem itemValue="" itemLabel="Selecione um estado"/>  
                                    <f:selectItems value="#{mainController.listaEstados()}" var="estado"
                                                   itemLabel="#{estado}" itemValue="#{estado}" />
                                </h:selectOneMenu>
                                <h:message for="consultorUf" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorCidade" value="Cidade:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50"
                                             class="form-control" id="consultorCidade"
                                             value="#{mainController.consultor.cidade}" p:placeholder="Cidade"/>
                                <h:message for="consultorCidade" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorEndereco" value="Endereço:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="70" 
                                             class="form-control" id="consultorEndereco"
                                             value="#{mainController.consultor.endereco}" p:placeholder="Endereço"/>
                                <h:message for="consultorEndereco" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorTelefone" value="Telefone:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório"
                                             class="form-control telefoneMask" id="consultorTelefone"
                                             value="#{mainController.consultor.telefone}" p:placeholder="Telefone"/>
                                <h:message for="consultorTelefone" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorEmail" value="Email:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50" 
                                             class="form-control" id="consultorEmail"
                                             value="#{mainController.consultor.email}" p:placeholder="Email"/>
                                <h:message for="consultorEmail" class="error-message"/>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <h:outputLabel for="consultorArea" value="Área:"/>
                                <h:selectOneMenu required="true" requiredMessage="Campo obrigatório" 
                                                 class="form-control" id="consultorArea" 
                                                 value="#{mainController.consultor.area}">
                                    <f:selectItem itemValue="" itemLabel="" />
                                    <f:selectItem itemValue="TI" itemLabel="TI" />
                                    <f:selectItem itemValue="Engenharia" itemLabel="Engenharia" />
                                    <f:selectItem itemValue="Artes" itemLabel="Artes" />
                                </h:selectOneMenu>	
                                <h:message for="consultorArea" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorCnpj" value="CPNJ:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório"
                                             class="form-control cnpjMask" id="consultorCnpj"
                                             value="#{mainController.consultor.cnpj}" p:placeholder="CNPJ"/>
                                <h:message for="consultorCnpj" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorUsuario" value="Usuário:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="20" 
                                             class="form-control usuarioMask" id="consultorUsuario"
                                             value="#{mainController.consultor.usuario}" p:placeholder="Usuário"/>
                                <h:message for="consultorUsuario" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorValorHora" value="Valor cobrado por hora:"/>
                                <h:inputText required="true" requiredMessage="Campo obrigatório"
                                             class="form-control moneyMask" id="consultorValorHora"
                                             value="#{mainController.consultor.valorHora}" p:placeholder="Valor base por hora."/>
                                <h:message for="consultorValorHora" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorSenha" value="Senha:"/>
                                <h:inputSecret required="true" requiredMessage="Campo obrigatório" maxlength="20" 
                                               class="form-control" id="consultorSenha"
                                               value="#{mainController.consultor.senha}"/>
                                <h:message for="consultorSenha" class="error-message"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel for="consultorRepeteSenha" value="Repita a senha:"/>
                                <h:inputSecret required="true" requiredMessage="Campo obrigatório" maxlength="20" 
                                               class="form-control" id="consultorRepeteSenha"
                                               value="#{mainController.tempSenhaRepete}"/>
                                <h:message for="consultorRepeteSenha" class="error-message"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <h3>Descrição:</h3>
                                <h:outputText id="display" />
                                <pr:inputTextarea required="true" requiredMessage="Campo obrigatório" rows="13" cols="30" id="consultorDescricao"
                                                  counter="display" maxlength="1000" counterTemplate="{0} caracteres restantes." 
                                                  autoResize="false" class="form-control" value="#{mainController.consultor.descricao}"
                                                  p:placeholder="Descrição e detalhes do consultor, note que este campo é a sua ''porta de entrada'' para os clientes)"/>
                                <h:message for="consultorDescricao" class="error-message"/>
                                <pr:commandButton update="formulario-consultor" class="btn btn-primary botao-cadastrar" action="#{mainController.registrarConsultor()}" value="Cadastrar!"/>
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                    </div>
                </div>
            </h:form>
        </div>

        <pr:dialog modal="true" widgetVar="dialogSucesso" draggable="false" resizable="false" header="Sucesso!"
                   hideEffect="drop" showEffect="drop" style="border: #204d74 solid 2px; border-radius: 3px;">
            <p>Cadastro efetuado com sucesso!</p>
            <pr:commandButton action="#{mainController.redirecionaLogin()}" style="float: right" class="btn btn-primary" value="OK"/>
        </pr:dialog>
        <pr:dialog modal="true" widgetVar="dialogErro" draggable="false" resizable="false" header="Erro!"
                   closable="true" closeOnEscape="true" hideEffect="drop" showEffect="drop" style="border: #204d74 solid 2px; border-radius: 3px;">
            <p>Verifique os campos digitados, algum está incorreto!</p>
            <pr:commandButton action="#{mainController.redirecionaCadastro()}" style="float: right" class="btn btn-primary" value="OK"/>
        </pr:dialog>

        <script src="resources/js/jquery-2.2.1.js"></script>
        <script src="resources/js/jquery-ui.min.js"></script>
        <script src="resources/js/bootstrap.js"></script>
        <script src="resources/js/jquery.mask.js"></script>
        <script src="resources/js/custom.mask.js"></script>
        <script src="resources/js/cadastro.js"></script>
    </h:body>
</html>

