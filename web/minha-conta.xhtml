<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Minha conta</title>
        <link href="resources/css/bootstrap.css" rel="stylesheet"/>
        <link href="resources/css/style.css" rel="stylesheet"/>
    </h:head>
    <h:body>
        <ui:include src="templates/header.xhtml"/>
        <div class="minha-conta-background">
            <h:form rendered="#{sessionBean.clienteLogged}">
                <div class="row">
                    <div class="col-md-1"></div>
                    <div class="col-md-2">
                        <div class="panel panel-primary">
                            <div class="panel-heading">     
                                <h3 class="panel-title text-center">Saldo</h3>
                            </div>
                            <div class="panel-body text-center">
                                <h:outputText class="saldo" value="R$ #{sessionBean.cliente.saldo}"/>
                                <h:commandButton class="btn btn-info add-saldo" value="Adicionar Saldo" action="adicionar-saldo.xhtml"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8"></div>
                </div>
            </h:form>
            <div class="row">
                <div class="col-md-1"/>
                <div class="col-md-6">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title text-center">Transações Efetuadas <i class="glyphicon glyphicon-credit-card"></i></h3>
                        </div>
                        <div class="panel-body">
                            <h:form rendered="#{sessionBean.clienteLogged}">
                                <table id="tabela-dados" class="table">
                                    <tr class="text-center">
                                        <th>Nome do consultor</th>
                                        <th>Quantidade de horas</th>
                                        <th>Valor total</th>
                                        <th>Data da transação</th>
                                    </tr>
                                    <ui:repeat var="transacao" value="#{sessionBean.cliente.transacoesEfetuadas}">
                                        <tr>
                                            <td><h:outputText value="#{transacao.consultor.nome}"/></td>
                                            <td><h:outputText value="#{transacao.horas}"/></td>
                                            <td><h:outputText value="#{transacao.valor}"/></td>
                                            <td><h:outputText value="#{transacao.dataDaCompra}"/></td>
                                        </tr>
                                    </ui:repeat>                             
                                </table>
                                <div class="text-center">
                                    <button type="button" class="btn btn-info botao-mostrar-dados">Mostrar tudo...</button>
                                </div>
                            </h:form>


                            <h:form rendered="#{sessionBean.consultorLogged}">
                                <table id="tabela-dados" class="table">
                                    <tr class="text-center">
                                        <th>Nome do cliente</th>
                                        <th>Quantidade de horas</th>
                                        <th>Valor total</th>
                                        <th>Data da transação</th>
                                    </tr>
                                    <ui:repeat var="transacao" value="#{sessionBean.consultor.transacoesEfetuadas}">
                                        <tr>
                                            <td><h:outputText value="#{transacao.cliente.nome}"/></td>
                                            <td><h:outputText value="#{transacao.horas}"/></td>
                                            <td><h:outputText value="#{transacao.valor}"/></td>
                                            <td><h:outputText value="#{transacao.dataDaCompra}"/></td>
                                        </tr>
                                    </ui:repeat>     
                                </table>
                                <div class="text-center">
                                    <button type="button" class="btn btn-info botao-mostrar-dados">Mostrar tudo...</button>
                                </div>
                            </h:form>
                        </div>
                    </div>  
                </div>
                <div class="col-md-1"/>
                <div class="col-md-3">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title text-center">Dados Pessoais <i class="glyphicon glyphicon-user"></i></h3>
                        </div>
                        <div class="panel-body">
                            <h:form rendered="#{sessionBean.clienteLogged}">
                                <table id="tabela-dados" class="table table-hover tabela-editavel">
                                    <tbody>
                                        <tr>
                                            <th>Nome:</th>
                                            <td><h:outputText value="#{sessionBean.cliente.nome}"/></td>
                                        </tr>
                                        <tr>
                                            <th>Email:</th>
                                            <td><h:outputText value="#{sessionBean.cliente.email}"/></td>
                                        </tr>              
                                        <tr class="escondido">
                                            <th>Endereço:</th>
                                            <td><h:outputText value="#{sessionBean.cliente.endereco}"/></td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>Cidade:</th>
                                            <td><h:outputText value="#{sessionBean.cliente.cidade}"/></td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>UF:</th>
                                            <td><h:outputText value="#{sessionBean.cliente.uf}"/></td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>Telefone:</th>
                                            <td><h:outputText value="#{sessionBean.cliente.telefone}"/></td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>CPF:</th>
                                            <td><h:outputText value="#{sessionBean.cliente.cpf}"/></td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>RG:</th>
                                            <td><h:outputText value="#{sessionBean.cliente.rg}"/></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="text-center">
                                    <button type="button" class="btn btn-info botao-mostrar-dados">Mostrar tudo...</button>
                                    <h:commandLink action="#{sessionBean.editarConta()}" styleClass="btn btn-info botao-alterar-dados">
                                        Salvar alterações <i class="glyphicon glyphicon-floppy-saved"></i>
                                    </h:commandLink>  
                                    <div class="text-center">
                                        <h:commandLink id="logoutButton" action="#{sessionBean.deletarConta()}" styleClass="btn btn-danger">
                                            <i class="glyphicon glyphicon-trash"></i> Deletar Conta!
                                        </h:commandLink>      
                                    </div>
                                </div>
                            </h:form>


                            <h:form rendered="#{sessionBean.consultorLogged}">
                                <table id="tabela-dados" class="table">
                                    <tr>
                                        <td>Nome:</td>
                                        <td><h:outputText value="#{sessionBean.consultor.nome}"/></td>
                                    </tr>
                                    <tr>
                                        <td>Email:</td>
                                        <td><h:outputText value="#{sessionBean.consultor.email}"/></td>
                                    </tr>
                                    <tr>
                                        <td>Área:</td>
                                        <td><h:outputText value="#{sessionBean.consultor.area}"/></td>
                                    </tr> 
                                    <tr>
                                        <td>Descrição:</td>
                                        <td><h:outputText value="#{sessionBean.consultor.descricao}"/></td>
                                    </tr> 
                                    <tr class="escondido">
                                        <td>Endereço:</td>
                                        <td><h:outputText value="#{sessionBean.consultor.endereco}"/></td>
                                    </tr>
                                    <tr class="escondido">
                                        <td>Cidade:</td>
                                        <td><h:outputText value="#{sessionBean.consultor.cidade}"/></td>
                                    </tr>
                                    <tr class="escondido">
                                        <td>UF:</td>
                                        <td><h:outputText value="#{sessionBean.consultor.uf}"/></td>
                                    </tr>
                                    <tr class="escondido">
                                        <td>Telefone:</td>
                                        <td><h:outputText value="#{sessionBean.consultor.telefone}"/></td>
                                    </tr>
                                    <tr class="escondido">
                                        <td>CPNJ:</td>
                                        <td><h:outputText value="#{sessionBean.consultor.cnpj}"/></td>
                                    </tr>
                                </table>
                                <div class="text-center">
                                    <button type="button" class="btn btn-info botao-mostrar-dados">Mostrar tudo...</button>

                                    <button type="button" class="btn btn-info botao-alterar-dados">Salvar alterações <i class="glyphicon glyphicon-floppy-saved"></i></button>
                                    <div class="text-center">
                                        <h:commandLink id="logoutButton" action="#{sessionBean.deletarConta()}" styleClass="btn btn-danger">
                                            <i class="glyphicon glyphicon-trash"></i> Deletar Conta!
                                        </h:commandLink>      
                                    </div>
                                </div>
                            </h:form>
                        </div>
                    </div>
                </div>
                <div class="col-md-1"/>
            </div>
        </div>
        <script src="resources/js/jquery-2.2.1.js"></script>
        <script src="resources/js/bootstrap.js"></script>
        <script src="resources/js/mindmup-editabletable.js"></script>
        <script src="resources/js/minha-conta.js"></script>
    </h:body>
</html>

