<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Minha conta</title>
        <link href="resources/css/bootstrap.css" rel="stylesheet"/>
        <link href="resources/css/style.css" rel="stylesheet"/>
    </h:head>
    <h:body>
        <ui:include src="templates/header.xhtml"/>
        <div class="minha-conta-background">
            <h:form rendered="#{sessionBean.clienteLogged}">
                <div class="row">
                    <div class="col-md-1"></div>
                    <div class="col-md-2">
                        <div class="panel panel-primary">
                            <div class="panel-heading">     
                                <h3 class="panel-title text-center">Saldo</h3>
                            </div>
                            <div class="panel-body text-center">
                                <h:outputText class="saldo" value="R$ #{sessionBean.cliente.saldo}"/>
                                <h:commandButton class="btn btn-info add-saldo" value="Adicionar Saldo" action="adicionar-saldo.xhtml"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8"></div>
                </div>
            </h:form>
            <div class="row">
                <div class="col-md-1"/>
                <div class="col-md-6">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title text-center">Transações Efetuadas <i class="glyphicon glyphicon-credit-card"></i></h3>
                        </div>
                        <div class="panel-body">
                            <h:form rendered="#{sessionBean.clienteLogged}">
                                <table id="tabela-dados" class="table">
                                    <tr class="text-center">
                                        <th>Nome do consultor</th>
                                        <th>Quantidade de horas</th>
                                        <th>Valor total</th>
                                        <th>Data da transação</th>
                                    </tr>
                                    <ui:repeat var="transacao" value="#{sessionBean.cliente.transacoesEfetuadas}">
                                        <tr>
                                            <td><h:outputText value="#{transacao.consultor.nome}"/></td>
                                            <td><h:outputText value="#{transacao.horas}"/></td>
                                            <td><h:outputText value="#{transacao.valor}"/></td>
                                            <td><h:outputText value="#{transacao.dataDaCompra}"/></td>
                                        </tr>
                                    </ui:repeat>                             
                                </table>
                                <div class="text-center">
                                    <button type="button" class="btn btn-info botao-mostrar-dados">Mostrar tudo...</button>
                                </div>
                            </h:form>


                            <h:form rendered="#{sessionBean.consultorLogged}">
                                <table id="tabela-dados" class="table">
                                    <tr class="text-center">
                                        <th>Nome do cliente</th>
                                        <th>Quantidade de horas</th>
                                        <th>Valor total</th>
                                        <th>Data da transação</th>
                                    </tr>
                                    <ui:repeat var="transacao" value="#{sessionBean.consultor.transacoesEfetuadas}">
                                        <tr>
                                            <td><h:outputText value="#{transacao.cliente.nome}"/></td>
                                            <td><h:outputText value="#{transacao.horas}"/></td>
                                            <td><h:outputText value="#{transacao.valor}"/></td>
                                            <td><h:outputText value="#{transacao.dataDaCompra}"/></td>
                                        </tr>
                                    </ui:repeat>     
                                </table>
                                <div class="text-center">
                                    <button type="button" class="btn btn-info botao-mostrar-dados">Mostrar tudo...</button>
                                </div>
                            </h:form>
                        </div>
                    </div>  
                </div>
                <div class="col-md-1"/>
                <div class="col-md-3">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title text-center">Dados Pessoais <i class="glyphicon glyphicon-user"></i></h3>
                        </div>
                        <div class="panel-body">
                            <h:form rendered="#{sessionBean.clienteLogged}">
                                <table id="tabela-dados" class="table table-hover">
                                    <tbody>
                                        <tr>
                                            <th>Nome:</th>
                                            <td>
                                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50" 
                                                             class="" id="clienteNome" 
                                                             value="#{sessionBean.clienteEditado.nome}"/>
                                                <h:message for="clienteNome" class="error-message"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Email:</th>
                                            <td>
                                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50"
                                                             class="" id="clienteEmail"
                                                             value="#{sessionBean.clienteEditado.email}"/>
                                                <h:message for="clienteEmail" class="error-message"/>
                                            </td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>UF:</th>
                                            <td>
                                                <h:inputText required="true" requiredMessage="Campo obrigatório" 
                                                             class="" id="clienteUf" 
                                                             value="#{sessionBean.clienteEditado.uf}"/>
                                                <h:message for="clienteUf" class="error-message"/>
                                            </td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>Cidade:</th>
                                            <td>
                                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50" 
                                                             class="" id="clienteCidade" 
                                                             value="#{sessionBean.clienteEditado.cidade}"/>
                                                <h:message for="clienteCidade" class="error-message"/> 
                                            </td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>Endereço:</th>
                                            <td>
                                                <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="70"
                                                             class="" id="clienteEndereco"
                                                             value="#{sessionBean.clienteEditado.endereco}"/>
                                                <h:message for="clienteEndereco" class="error-message"/>
                                            </td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>Telefone:</th>
                                            <td>
                                                <h:inputText required="true" requiredMessage="Campo obrigatório"
                                                             class="telefoneMask" id="clienteTelefone"
                                                             value="#{sessionBean.clienteEditado.telefone}"/>
                                                <h:message for="clienteTelefone" class="error-message"/>
                                            </td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>CPF:</th>
                                            <td>
                                                <h:inputText required="true" requiredMessage="Campo obrigatório"
                                                             class="cpfMask" id="clienteCpf"
                                                             value="#{sessionBean.clienteEditado.cpf}"/>
                                                <h:message for="clienteCpf" class="error-message"/>
                                            </td>
                                        </tr>
                                        <tr class="escondido">
                                            <th>RG:</th>
                                            <td>
                                                <h:inputText required="true" requiredMessage="Campo obrigatório"
                                                             class="rgMask" id="clienteRg"
                                                             value="#{sessionBean.clienteEditado.rg}"/>
                                                <h:message for="clienteRg" class="error-message"/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="text-center">
                                    <button type="button" class="btn btn-info botao-mostrar-dados">Mostrar tudo...</button>
                                    <h:commandLink action="#{sessionBean.editarConta()}" styleClass="btn btn-info botao-alterar-dados">
                                        Salvar alterações <i class="glyphicon glyphicon-floppy-saved"></i>
                                    </h:commandLink>  
                                    <div class="text-center">
                                        <h:commandLink id="logoutButton" action="#{sessionBean.deletarConta()}" styleClass="btn btn-danger">
                                            <i class="glyphicon glyphicon-trash"></i> Deletar Conta!
                                        </h:commandLink>      
                                    </div>
                                </div>
                            </h:form>


                            <h:form rendered="#{sessionBean.consultorLogged}">
                                <table id="tabela-dados" class="table">
                                    <tr>
                                        <th>Nome:</th>
                                        <td>                            
                                            <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50" 
                                                         class="" id="consultorNome"
                                                         value="#{sessionBean.consultorEditado.nome}"/>
                                            <h:message for="consultorNome" class="error-message"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Email:</th>
                                        <td>
                                            <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50" 
                                                         class="" id="consultorEmail"
                                                         value="#{sessionBean.consultorEditado.email}"/>
                                            <h:message for="consultorEmail" class="error-message"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Área:</th>
                                        <td><h:inputText value="#{sessionBean.consultorEditado.area}"/></td>
                                    </tr> 
                                    <tr>
                                        <th>Descrição:</th>
                                        <td>
                                            <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="1000" 
                                                         class="" id="consultorDescricao"
                                                         value="#{sessionBean.consultorEditado.descricao}"/>
                                            <h:message for="consultorDescricao" class="error-message"/>
                                        </td>
                                    </tr> 
                                    <tr class="escondido">
                                        <th>UF:</th>
                                        <td>
                                            <h:inputText required="true" requiredMessage="Campo obrigatório"
                                                         class="" id="consultorUf"
                                                         value="#{sessionBean.consultorEditado.uf}"/>
                                            <h:message for="consultorUf" class="error-message"/>
                                        </td>
                                    </tr>
                                    <tr class="escondido">
                                        <th>Cidade:</th>
                                        <td>
                                            <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="50"
                                                         class="" id="consultorCidade"
                                                         value="#{sessionBean.consultorEditado.cidade}"/>
                                            <h:message for="consultorCidade" class="error-message"/>
                                        </td>
                                    </tr>
                                    <tr class="escondido">
                                        <th>Endereço:</th>
                                        <td>
                                            <h:inputText required="true" requiredMessage="Campo obrigatório" maxlength="70" 
                                                         class="" id="consultorEndereco"
                                                         value="#{sessionBean.consultorEditado.endereco}"/>
                                            <h:message for="consultorEndereco" class="error-message"/>
                                        </td>
                                    </tr>
                                    <tr class="escondido">
                                        <th>Telefone:</th>
                                        <td>
                                            <h:inputText required="true" requiredMessage="Campo obrigatório"
                                                         class="telefoneMask" id="consultorTelefone"
                                                         value="#{sessionBean.consultorEditado.telefone}"/>
                                            <h:message for="consultorTelefone" class="error-message"/>
                                        </td>
                                    </tr>
                                    <tr class="escondido">
                                        <th>CPNJ:</th>
                                        <td><h:inputText value="#{sessionBean.consultorEditado.cnpj}"/></td>
                                    </tr>
                                </table>
                                <div class="text-center">
                                    <button type="button" class="btn btn-info botao-mostrar-dados">Mostrar tudo...</button>
                                    <h:commandLink action="#{sessionBean.editarConta()}" styleClass="btn btn-info botao-alterar-dados">
                                        Salvar alterações <i class="glyphicon glyphicon-floppy-saved"></i>
                                    </h:commandLink>  
                                    <div class="text-center">
                                        <h:commandLink id="logoutButton" action="#{sessionBean.deletarConta()}" styleClass="btn btn-danger">
                                            <i class="glyphicon glyphicon-trash"></i> Deletar Conta!
                                        </h:commandLink>      
                                    </div>
                                </div>
                            </h:form>
                        </div>
                    </div>
                </div>
                <div class="col-md-1"/>
            </div>
        </div>
        <script src="resources/js/jquery-2.2.1.js"></script>
        <script src="resources/js/bootstrap.js"></script>
        <script src="resources/js/minha-conta.js"></script>
        <script src="resources/js/jquery.mask.js"></script>
        <script src="resources/js/custom.mask.js"></script>
    </h:body>
</html>

